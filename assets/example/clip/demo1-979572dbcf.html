<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="ie=edge"><title>clip属性</title><style>body{text-align:center;font-size:14px}img{display:inline-block;vertical-align:top}.clip-main{position:relative;display:inline-block;margin-bottom:10px}.clip-b,.clip-l,.clip-r,.clip-t{position:absolute;z-index:999;background:rgba(0,0,0,.2);transition:all .3s}.clip-b,.clip-t{width:100%;height:0;left:0}.clip-l,.clip-r{top:0;width:0;height:100%}.clip-r{width:0;right:0}.clip-b{height:0;bottom:0}span{display:inline-block;padding:6px;vertical-align:middle;line-height:1.1;border-top-left-radius:0;border-bottom-left-radius:0;border:1px solid #ccc;border-radius:4px;border-top-left-radius:0;border-bottom-left-radius:0}input{display:inlin-block;vertical-align:middle;box-sizing:border-box;width:70px;padding:6px 12px;border-radius:4px;outline:0;border:1px solid #ccc;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}</style></head><body><div class="clip-main"><div class="clip-t"></div><div class="clip-r"></div><div class="clip-b"></div><div class="clip-l"></div> <img class="clip-img" width="100%" src="../../images/clip.jpg" alt="clip"></div><div class="inp-panel"> <label>top: <input id="top" type="text" value="50"><span>px</span></label> <label>right: <input id="right" type="text" value="300"><span>px</span></label> <label>bottom: <input id="bottom" type="text" value="300"><span>px</span></label> <label>left: <input id="left" type="text" value="50"><span>px</span></label> <button id="btn">剪切</button> <button id="reset">reset</button></div><script>window.onload=function(){var oM=getByClass(null,"clip-main")[0],oL=getByClass(oM,"clip-l")[0],oR=getByClass(oM,"clip-r")[0],oT=getByClass(oM,"clip-t")[0],oB=getByClass(oM,"clip-b")[0],img=getByClass(oM,"clip-img")[0],rect=img.getBoundingClientRect(),oBtn=document.getElementById("btn"),oReset=document.getElementById("reset");oM.style.width=rect.width+"px",oM.style.height=rect.height+"px";var oTop=document.getElementById("top"),oRight=document.getElementById("right"),oBottom=document.getElementById("bottom"),oLeft=document.getElementById("left"),res={};function init(t,e){switch(e=e||0,e="top"===t||"bottom"===t?Math.min(e,rect.height):Math.min(e,rect.width),t){case"top":res.top=e+"px",oT.style.height=res.top;break;case"right":res.right=e+"px",oR.style.width=rect.width-e+"px";break;case"bottom":res.bottom=e+"px",oB.style.height=rect.height-e+"px";break;case"left":res.left=e+"px",oL.style.width=res.left}img.style.clip="rect("+res.top+" "+res.right+" "+res.bottom+" "+res.left+")"}function getByClass(t,e){t=t||document.body;var o=[],i=new RegExp("\\b"+e+"\\b","i"),n=t.getElementsByTagName("*");return[].slice.call(n).forEach(function(t){i.test(t.className)&&o.push(t)}),o}oBtn.onclick=function(){img.style.position="absolute",img.style.top=0,img.style.left=0},oReset.onclick=function(){img.style.position="static",img.style.top=0,img.style.left=0},["top","right","bottom","left"].forEach(function(item){var val=eval("o"+item.charAt(0).toUpperCase()+item.substr(1)).value;init(item,val)}),oTop.oninput=function(){init("top",this.value)},oRight.oninput=function(){init("right",this.value)},oBottom.oninput=function(){init("bottom",this.value)},oLeft.oninput=function(){init("left",this.value)}}</script></body></html>